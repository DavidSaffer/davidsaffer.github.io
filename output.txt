Filename: index.html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PixelBomber</title>
    <link rel="icon" href="favicon.ico">
    <link rel="stylesheet" href="initial_page.css">
    <link rel="stylesheet" href="lobby.css">
</head>
<body>
    <div id="initial_page">
        <header>
            <div class="logo">Pixel Bomber</div>
        </header>
        <main>
            <div class="nickname_box">
                <h1>Choose nickname</h1>
                <input type="text" id="nickname" placeholder="david">
                <button id="go_button">Go!</button>
            </div>
        </main>        
    </div>

    <div id="lobby" style="display:none">
        
        <div class="lobby-footer">
            <button id="create_lobby_button">Create Lobby</button>
            <button id="join_lobby_button">Join Lobby</button>
        </div>
        <div id="lobby_modal" class="modal">
            <div class="modal_content">
                <!-- <span class="close" id="close_create_room_modal">&times;</span> -->
                <h2 id="lobby_modal_title">Title</h2>
                <input type="text" id="lobby_modal_code" readonly value="YourLobbyCodeHere" style="text-align: center;">
                <button id="lobby_modal_coppy_button">Copy</button>
                <!-- <p id="lobby_modal_text"></p> -->
                <input type="text" id="lobby_modal_input" placeholder="Lobby Code">
                <button id="lobby_modal_button">Start Game</button>
            </div>
        </div>
    </div>

    <div id="game" style="display:none">
        <p>Game!!</p>
        <button id="game_button">Send Message</button>
    </div>
    
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="client.js"></script>
</body>
</html>---- End of index.html ----

Filename: client.js
document.addEventListener("DOMContentLoaded", () => {


    const peer = new Peer();
      
    let name = '';
    let peerId = null;


    peer.on('open', function(id) {
        console.log('My peer ID is: ' + id);
        peerId = id;
    });

    // peer.on('data', function(data) {
    //     console.log('Received', data);
    // });
    

    // Query DOM
    // initial page
    const initial_page = document.getElementById('initial_page');
    const name_input = document.getElementById('nickname');
    const go_button = document.getElementById('go_button');

    go_button.onclick = function() {
        name = name_input.value;
        go_to_lobby();
    }

    function go_to_lobby() {
        initial_page.style.display = "none";
        loby.style.display = "flex";
    }

    // lobby page
    const loby = document.getElementById('lobby');
    
    const create_lobby_button = document.getElementById('create_lobby_button');
    const join_lobby_button = document.getElementById('join_lobby_button');
    
    const lobby_modal = document.getElementById('lobby_modal');
    const lobby_modal_title = document.getElementById('lobby_modal_title');
    // const lobby_modal_text = document.getElementById('lobby_modal_text');
    const lobby_modal_input = document.getElementById('lobby_modal_input');
    const lobby_modal_button = document.getElementById('lobby_modal_button');

    const lobby_modal_coppy_button = document.getElementById('lobby_modal_coppy_button');
    const lobby_modal_code = document.getElementById('lobby_modal_code');

    function copyLobbyCode() {
        // Copy the text inside the text field
        navigator.clipboard.writeText(lobby_modal_code.value)
            .then(() => {
                // Optionally, show a message to indicate that the code was copied
                alert('Copied the lobby code: ' + lobby_modal_code.value);
            })
            .catch(err => {
                console.error('Could not copy text: ', err);
            });
    }

    // Set up the click event listener for the copy button
    lobby_modal_coppy_button.onclick = copyLobbyCode;

    
    create_lobby_button.onclick = function() {
        // Set the lobby code to the input's value
        lobby_modal_code.style.display = "block";
        lobby_modal_coppy_button.style.display = "block";
        lobby_modal_code.value = peerId; // Assuming peerId is your lobby code

        // Show the modal
        lobby_modal.style.display = "block";
        lobby_modal_title.innerText = "Lobby Code";

        // Automatically select the lobby code text for easy copying (optional)
        lobby_modal_code.select();
        lobby_modal_code.setSelectionRange(0, 99999); // For mobile devices

        lobby_modal_input.style.display = "none"; // Hide input

        lobby_modal.style.display = "block";
        lobby_modal_title.innerText = "Lobby Code";

        // lobby_modal_text.style.display = "block"; // Show text
        // lobby_modal_text.innerText = peerId;

        lobby_modal_button.onclick = function() {
            startGame();
        }
        

    }

    join_lobby_button.onclick = function() {
        // lobby_modal_text.style.display = "none"; // Hide text
        lobby_modal_code.style.display = "none"; // Hide text
        lobby_modal_coppy_button.style.display = "none"; // Hide button

        lobby_modal.style.display = "block";
        lobby_modal_title.innerText = "Enter Lobby Code";
        lobby_modal_input.style.display = "block"; // Show input
        lobby_modal_input.placeholder = 'Enter Lobby Code...';

        lobby_modal_button.onclick = joinGame;
        
        
    }

    function joinGame() {
        const lobby_code = lobby_modal_input.value;
        try {
            const conn = peer.connect(lobby_code);
            conn.on('open', () => {
                console.log('Connected to: ' + conn.peer);
                conn.send(`Hello! I am ${name}`);
            });

            conn.on('data', function(data) {
                console.log(data);
            });
        } 
        catch (error) {
            console.log(error);
        }
        showGame();
    }

    function startGame() {
        peer.on('connection', function(conn) {
            conn.on('data', function(data) {
                // Will print 'hi!'
                console.log(data);
            });
        });
        showGame();
    }

    window.onclick = function(event) {
        if (event.target == lobby_modal) {
            lobby_modal.style.display = "none";
        }
    }


    function showGame() {
        lobby_modal.style.display = "none";
        loby.style.display = "none";
        game.style.display = "flex";
    }
});
---- End of client.js ----

Filename: initial_page.css
body, html {
    height: 100%;
    margin: 0;
    font-family: 'Arial', sans-serif;
    background: grey;
}

header {
    background: rgba(0, 0, 0, 0.5);
    color: white;
    padding: 10px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header .logo {
    font-size: 2em;
    font-weight: bold;
    background: -webkit-linear-gradient(left, #f1c40f, #e67e22);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.main {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
}

.nickname_box {
    background: rgba(0, 0, 0, 0.7);
    border-radius: 5px;
    padding: 20px;
    text-align: center;
}

.nickname_box h1 {
    color: #fff;
}

.nickname_box input {
    width: 200px;
    padding: 10px;
    margin-top: 10px;
    border: none;
    border-radius: 5px;
}

.nickname_box button {
    width: 60px;
    padding: 10px;
    margin-top: 10px;
    background-color: #e67e22;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}

.nickname_box button:hover {
    background-color: #f39c12;
}

---- End of initial_page.css ----

Filename: lobby.css
#lobby {
    display: none; /* This will be changed dynamically */
    flex-direction: column;
    align-items: center;
    padding: 20px;
    background: #2c3e50; /* Dark blue background */
    color: white;
}

.lobby-footer {
    display: flex;
    justify-content: center;
    margin-top: 20px;
}

.lobby-footer button {
    padding: 10px 20px;
    background-color: #3498db;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s;
    margin-right: 10px; /* Add space between buttons */
}

.lobby-footer button:last-child {
    margin-right: 0; /* Remove margin from last button */
}

.lobby-footer button:hover {
    background-color: #2980b9;
}

/* Modal Styles */
.modal {
    display: none; /* Hidden by default */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    overflow: auto; /* Enable scroll if needed */
    background-color: rgb(0, 0, 0); /* Fallback color */
    background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
}

.modal_content {
    background-color: #fefefe;
    margin: 15% auto; /* 15% from the top and centered */
    padding: 20px;
    border: 1px solid #888;
    width: 80%; /* Could be more or less, depending on screen size */
    max-width: 500px; /* Maximum width */
    border-radius: 5px;
    color: black; /* Text color for the modal */
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

---- End of lobby.css ----

